# 多語言支援實現待辦事項

## 已完成 ✅
- [x] 前端 4 種語言翻譯字典（繁中、英、日、韓）
- [x] 後端 `/api/translate` API 端點
- [x] 後端 Google Cloud Translation API 整合
- [x] 前端語言協商邏輯
- [x] 前端動態翻譯字典生成

## 需要微調 🔧
- [ ] 完善前端語言協商邏輯
- [ ] 確保後端翻譯 API CORS 正確
- [ ] 調整菜單 API 支援任意語言碼
- [ ] 測試新語言支援

## 實現步驟

### 1. 前端語言協商優化
- [ ] 改善 `pickUserLang()` 函數的語言偵測邏輯
- [ ] 加入更多語言名稱對應
- [ ] 優化 fallback 策略

### 2. 後端翻譯 API 完善
- [ ] 確保 CORS 設定正確
- [ ] 加入翻譯快取機制
- [ ] 改善錯誤處理

### 3. 菜單 API 語言支援
- [ ] 調整菜單 API 接受任意 BCP47 語言碼
- [ ] 實作動態菜單翻譯
- [ ] 加入語言 fallback 機制

### 4. 測試與驗證
- [ ] 測試新語言支援
- [ ] 驗證翻譯品質
- [ ] 檢查效能表現

## 技術架構

### 前端
- 保留現有 4 種語言作為「種子語言」
- 其他語言透過後端 API 動態生成翻譯字典
- 語言協商：URL → LIFF → 瀏覽器 → 預設

### 後端
- Google Cloud Translation API v3 批次翻譯
- 翻譯結果快取（記憶體或 Redis）
- 支援任意 BCP47 語言碼

### 語言支援範圍
- **種子語言**：繁中、英文、日文、韓文（人工翻譯）
- **動態語言**：法文、德文、西班牙文、義大利文、葡萄牙文、俄文、阿拉伯文、印地文、泰文、越南文等 100+ 語言（機器翻譯）

## 預期效果
- 使用者可以用任何語言瀏覽點餐介面
- 菜單內容自動翻譯成使用者語言
- 無需維護 198 種語言的翻譯檔案
- 翻譯品質：種子語言 > 機器翻譯 > 英文 fallback
