<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åˆä½œåº—å®¶ä¿®å¾©æ¸¬è©¦</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-section { margin: 20px 0; padding: 15px; border: 1px solid #ccc; border-radius: 5px; }
        .success { background-color: #d4edda; border-color: #c3e6cb; }
        .error { background-color: #f8d7da; border-color: #f5c6cb; }
        button { padding: 10px 15px; margin: 5px; border: none; border-radius: 5px; cursor: pointer; }
        .btn-primary { background-color: #007bff; color: white; }
        .btn-success { background-color: #28a745; color: white; }
        .btn-warning { background-color: #ffc107; color: black; }
        #ocr-section { margin: 20px 0; padding: 15px; border: 2px solid #ddd; border-radius: 8px; }
        .hidden { display: none; }
    </style>
</head>
<body>
    <h1>åˆä½œåº—å®¶ä¿®å¾©æ¸¬è©¦</h1>
    
    <div class="test-section">
        <h3>æ¸¬è©¦èªªæ˜</h3>
        <p>æ­¤æ¸¬è©¦é©—è­‰åˆä½œåº—å®¶ç„¡èœå–®æ¨¡å¼çš„ä¿®å¾©ï¼š</p>
        <ul>
            <li>ç•¶åº—å®¶æ˜¯åˆä½œåº—å®¶ä½†ç„¡èœå–®æ™‚ï¼ŒOCR æ¨™é¡Œæ‡‰è©²é¡¯ç¤ºã€Œåˆä½œåº—å®¶ï¼ˆç„¡èœå–®ï¼‰ã€</li>
            <li>ç•¶èªè¨€åˆ‡æ›æ™‚ï¼Œä¸æ‡‰è©²è¦†è“‹é€™å€‹æ¨™é¡Œ</li>
            <li>éåˆä½œåº—å®¶æ¨¡å¼æ™‚ï¼Œæ¨™é¡Œæ‡‰è©²æ­£å¸¸æ›´æ–°</li>
        </ul>
    </div>

    <div class="test-section">
        <h3>æ¸¬è©¦æ§åˆ¶</h3>
        <button class="btn-primary" onclick="testPartnerStoreNoMenu()">æ¸¬è©¦åˆä½œåº—å®¶ç„¡èœå–®</button>
        <button class="btn-warning" onclick="testNonPartnerStore()">æ¸¬è©¦éåˆä½œåº—å®¶</button>
        <button class="btn-success" onclick="testLanguageSwitch()">æ¸¬è©¦èªè¨€åˆ‡æ›</button>
        <button class="btn-primary" onclick="resetTest()">é‡ç½®æ¸¬è©¦</button>
    </div>

    <div class="test-section">
        <h3>ç•¶å‰ç‹€æ…‹</h3>
        <p>OCR Section Mode: <span id="current-mode">æœªè¨­å®š</span></p>
        <p>ç•¶å‰èªè¨€: <span id="current-language">zh-TW</span></p>
    </div>

    <div id="ocr-section" class="hidden">
        <h4 id="ocr-title">OCR æ¨™é¡Œ</h4>
        <p id="ocr-description">OCR æè¿°</p>
        <button id="custom-upload-btn">ğŸ“¸ é¸æ“‡èœå–®ç…§ç‰‡</button>
    </div>

    <div class="test-section">
        <h3>æ¸¬è©¦çµæœ</h3>
        <div id="test-results"></div>
    </div>

    <script>
        // æ¨¡æ“¬ç¿»è­¯
        const translations = {
            'zh-TW': {
                ocrTitle: 'éåˆä½œåº—å®¶',
                ocrDescription: 'è«‹æ‹æ”æˆ–ä¸Šå‚³èœå–®ç…§ç‰‡ï¼Œæˆ‘å€‘å°‡ç‚ºæ‚¨å³æ™‚ç¿»è­¯ä¸¦å»ºç«‹é»é¤å–®ã€‚',
                partnerStoreNoMenu: 'åˆä½œåº—å®¶ï¼ˆç„¡èœå–®ï¼‰',
                partnerStoreNoMenuDesc: 'æ­¤åˆä½œåº—å®¶ç›®å‰æ²’æœ‰èœå–®ï¼Œè«‹æ‹æ”æˆ–ä¸Šå‚³èœå–®ç…§ç‰‡ï¼Œæˆ‘å€‘å°‡ç‚ºæ‚¨å³æ™‚ç¿»è­¯ä¸¦å»ºç«‹é»é¤å–®ã€‚'
            },
            'en-US': {
                ocrTitle: 'Non-Partner Store',
                ocrDescription: 'Please take or upload a clear photo of the menu. We will translate it in real-time and create an order form.',
                partnerStoreNoMenu: 'Partner Store (No Menu)',
                partnerStoreNoMenuDesc: 'This partner store currently has no menu. Please take or upload a clear photo of the menu. We will translate it in real-time and create an order form.'
            }
        };

        let currentLanguage = 'zh-TW';

        function showNonPartnerInterface(storeName = '', isPartnerStore = false) {
            const ocrSection = document.getElementById('ocr-section');
            ocrSection.classList.remove('hidden');
            
            // è¨­å®šæ¨¡å¼æ——æ¨™ï¼Œé¿å…è¢« updateInterfaceLanguage è¦†è“‹
            ocrSection.dataset.mode = isPartnerStore ? 'partner-no-menu' : 'non-partner';
            
            // æ›´æ–°æ¨¡å¼é¡¯ç¤º
            document.getElementById('current-mode').textContent = ocrSection.dataset.mode;
            
            // æ ¹æ“šåº—å®¶ç‹€æ…‹æ›´æ–°æ¨™é¡Œå’Œæè¿°
            const ocrTitle = document.getElementById('ocr-title');
            const ocrDescription = document.getElementById('ocr-description');
            const texts = translations[currentLanguage] || translations['zh-TW'];
            
            if (isPartnerStore) {
                ocrTitle.textContent = texts.partnerStoreNoMenu;
                ocrDescription.textContent = texts.partnerStoreNoMenuDesc;
            } else {
                ocrTitle.textContent = texts.ocrTitle;
                ocrDescription.textContent = texts.ocrDescription;
            }
        }

        function updateInterfaceLanguage() {
            const texts = translations[currentLanguage] || translations['zh-TW'];
            
            // æ›´æ–° OCR ä»‹é¢ï¼ˆæ ¹æ“šæ¨¡å¼æ±ºå®šæ˜¯å¦è¦†è“‹ï¼‰
            const ocrSection = document.getElementById('ocr-section');
            if (ocrSection && ocrSection.dataset.mode !== 'partner-no-menu') {
                // åªæœ‰åœ¨éåˆä½œåº—å®¶ç„¡èœå–®æ¨¡å¼æ™‚æ‰è¦†è“‹æ¨™é¡Œå’Œæè¿°
                document.getElementById('ocr-title').textContent = texts.ocrTitle;
                document.getElementById('ocr-description').textContent = texts.ocrDescription;
            }
            
            // æ›´æ–°èªè¨€é¡¯ç¤º
            document.getElementById('current-language').textContent = currentLanguage;
        }

        function testPartnerStoreNoMenu() {
            showNonPartnerInterface('é£Ÿè‚†é‹ 14 Pot', true);
            addTestResult('âœ… åˆä½œåº—å®¶ç„¡èœå–®æ¨¡å¼è¨­å®šæˆåŠŸ', 'success');
            addTestResult(`æ¨™é¡Œ: ${document.getElementById('ocr-title').textContent}`, 'success');
        }

        function testNonPartnerStore() {
            showNonPartnerInterface('ä¸€èˆ¬åº—å®¶', false);
            addTestResult('âœ… éåˆä½œåº—å®¶æ¨¡å¼è¨­å®šæˆåŠŸ', 'success');
            addTestResult(`æ¨™é¡Œ: ${document.getElementById('ocr-title').textContent}`, 'success');
        }

        function testLanguageSwitch() {
            // åˆ‡æ›èªè¨€
            currentLanguage = currentLanguage === 'zh-TW' ? 'en-US' : 'zh-TW';
            updateInterfaceLanguage();
            
            const ocrSection = document.getElementById('ocr-section');
            const mode = ocrSection.dataset.mode;
            const title = document.getElementById('ocr-title').textContent;
            
            if (mode === 'partner-no-menu') {
                // åˆä½œåº—å®¶ç„¡èœå–®æ¨¡å¼ï¼šæ¨™é¡Œæ‡‰è©²ä¿æŒä¸è®Š
                const expectedTitle = translations[currentLanguage].partnerStoreNoMenu;
                if (title === expectedTitle) {
                    addTestResult(`âœ… èªè¨€åˆ‡æ›æˆåŠŸï¼Œåˆä½œåº—å®¶æ¨™é¡Œä¿æŒæ­£ç¢º: ${title}`, 'success');
                } else {
                    addTestResult(`âŒ èªè¨€åˆ‡æ›å¾Œæ¨™é¡ŒéŒ¯èª¤ï¼ŒæœŸæœ›: ${expectedTitle}ï¼Œå¯¦éš›: ${title}`, 'error');
                }
            } else {
                // éåˆä½œåº—å®¶æ¨¡å¼ï¼šæ¨™é¡Œæ‡‰è©²æ›´æ–°
                const expectedTitle = translations[currentLanguage].ocrTitle;
                if (title === expectedTitle) {
                    addTestResult(`âœ… èªè¨€åˆ‡æ›æˆåŠŸï¼Œéåˆä½œåº—å®¶æ¨™é¡Œæ›´æ–°æ­£ç¢º: ${title}`, 'success');
                } else {
                    addTestResult(`âŒ èªè¨€åˆ‡æ›å¾Œæ¨™é¡ŒéŒ¯èª¤ï¼ŒæœŸæœ›: ${expectedTitle}ï¼Œå¯¦éš›: ${title}`, 'error');
                }
            }
        }

        function resetTest() {
            document.getElementById('ocr-section').classList.add('hidden');
            document.getElementById('current-mode').textContent = 'æœªè¨­å®š';
            document.getElementById('test-results').innerHTML = '';
            addTestResult('ğŸ”„ æ¸¬è©¦å·²é‡ç½®', 'success');
        }

        function addTestResult(message, type) {
            const resultsDiv = document.getElementById('test-results');
            const resultDiv = document.createElement('div');
            resultDiv.className = `test-section ${type}`;
            resultDiv.textContent = message;
            resultsDiv.appendChild(resultDiv);
        }

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            addTestResult('ğŸš€ æ¸¬è©¦é é¢å·²è¼‰å…¥ï¼Œè«‹é–‹å§‹æ¸¬è©¦', 'success');
        });
    </script>
</body>
</html>
